\begin{tikzpicture}
\begin{centering}

\definecolor{s1}{RGB}{228, 26, 28}
\definecolor{s2}{RGB}{55, 126, 184}
\definecolor{s3}{RGB}{77, 175, 74}
\definecolor{s4}{RGB}{152, 78, 163}
\definecolor{s5}{RGB}{255, 127, 0}

\begin{groupplot}[
    group style={
        group name=plots,
        group size=1 by 2,
        xlabels at=edge bottom,
        xticklabels at=edge bottom,
        vertical sep=5pt
    },
height=3.5cm,
width=0.95\columnwidth,
xmajorgrids,
ymajorgrids,
grid style={dashed},
xmin=0,
xmax=200,
yticklabel pos=left,
enlargelimits=false,
tick align = outside,
tick style={white},
xticklabel shift={-5pt},
yticklabel shift={-5pt},
ylabel shift={-2pt},
ylabel style={align=center},
unbounded coords=jump,
]

\nextgroupplot[ylabel={\footnotesize Performance \\ (Normalized)}, % Performance
%xtick={0,500,1000,1500,2000,2500,3000,3500,4000,4500},
ytick={0.0,0.5,1.0,1.5,2.0},
yticklabels={,0.5,1.0,1.5,2.0},
%xtick={0,30,60,120,160,200,240,280,320,480},
%xticklabels={,0,30,60,120,160,200,240,280,320,480},
yticklabel style={font=\footnotesize},
ymin=0,
ymax=1.5,
legend entries={{{$\mathsf{\SYSTEM{}}$}},POET,LEO},
legend style={draw=none,at={(0.5,1.4)},anchor=north,legend columns=4,line width=5pt},
]
\addplot[thick, solid, color=s4] table[x index=0,y index=1,col sep=space] {img/STREAM-phases/leopoet.txt};
\addplot[thick, solid, color=s5] table[x index=0,y index=1,col sep=space] {img/STREAM-phases/poet.txt};
\addplot[thick, solid, color=s3] table[x index=0,y index=1,col sep=space] {img/STREAM-phases/leo.txt};

%\addplot[thick, solid, color=s3] table[x index=0,y index=1,col sep=tab] {img/x264-phases-clover-dvfs.txt};
%\addplot[thick, solid, color=s4] table[x index=0,y index=1,col sep=tab] {img/x264-phases-clover-copper.txt};
%\addplot[thick, solid, black] coordinates {(0, 1) (4500, 1)};
\addplot[thick, dashed, black] coordinates {(250,0) (250, 2)};
%\addplot[thick, dashed, black] coordinates {(3000,0) (3000, 2)};


\nextgroupplot[ylabel={\footnotesize Power \\ (Watts)}, % Power
ytick={0.0,1.0,2.0},
yticklabels={,1.0,2.0},
yticklabel style={font=\footnotesize},
ymin=0.5,
ymax=3,
xlabel={\footnotesize $time$ [frame]},
xlabel near ticks,
%xtick={0,500,1000,1500,2000,2500,3000,3500,4000,4500},
%xtick={0,30,60,120,160,200,240,280,320,480},
xticklabels={,0,60,120,240,360,480},
%xticklabel style={font=\footnotesize},
]
\addplot[thick, solid, color=s4] table[x index=0,y index=2,col sep=space] {img/STREAM-phases/leopoet.txt};
\addplot[thick, solid, color=s5] table[x index=0,y index=2,col sep=space] {img/STREAM-phases/poet.txt};
\addplot[thick, solid, color=s3] table[x index=0,y index=2,col sep=space] {img/STREAM-phases/leo.txt};
%\addplot[thick, solid, color=s3] table[x index=0,y index=2,col sep=tab] {img/x264-phases-clover-dvfs.txt};
%\addplot[thick, solid, color=s4] table[x index=0,y index=2,col sep=tab] {img/x264-phases-clover-copper.txt};
%\addplot[thick, dashed, black] coordinates {(1500,0) (1500, 250)};
%\addplot[thick, dashed, black] coordinates {(3000,0) (3000, 250)};
\addplot[thick, dashed, black] coordinates {(250,0) (250, 5)};
\end{groupplot}
\end{centering}

\end{tikzpicture}
