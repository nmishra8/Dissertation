\begin{tikzpicture}
\begin{groupplot}[
    group style={
        group name=plots,
        group size=1 by 6,
        xlabels at=edge top,
        xticklabels at=edge top,
        vertical sep=5pt
    },
axis x line* = top,
xlabel near ticks,
major x tick style = transparent,
height=2.5cm,
width=0.88\textwidth,
xmin=0,
xmax=9,
enlargelimits=false,
tick align = outside,
tick style={white},
ylabel style={align=center},
ytick=\empty,
xtick=\empty,
xticklabels={},
yticklabels={},
ymin=0,
ymax=1,
]
\nextgroupplot[ylabel={$\mathsf{40\%}$},
y label style={rotate=270},
ylabel shift={12mm},
]
\addplot[thick,solid, color=black] coordinates {(0,1) (22,1)};

\nextgroupplot[
ylabel shift={12mm},
y label style={rotate=270},
ylabel={$\mathsf{50\%}$},
]
\addplot[thick,solid, color=black] coordinates {(0,1) (22,1)};

\nextgroupplot[
ylabel shift={12mm},
y label style={rotate=270},
ylabel={$\mathsf{60\%}$},
]
\addplot[thick,solid, color=black] coordinates {(0,1) (22,1)};


\nextgroupplot[
ylabel shift={12mm},
ylabel={$\mathsf{70\%}$},
y label style={rotate=270},
]
\addplot[thick,solid, color=black] coordinates {(0,1) (22,1)};

\nextgroupplot[
ylabel shift={12mm},
ylabel={$\mathsf{80\%}$},
y label style={rotate=270},
]
\addplot[thick,solid, color=black] coordinates {(0,1) (22,1)};

\nextgroupplot[
ylabel shift={12mm},
ylabel={$\mathsf{90\%}$},
y label style={rotate=270},
]
\addplot[thick,solid, color=black] coordinates {(0,1) (22,1)};

\end{groupplot}

\begin{groupplot}[
    group style={
        group name=plots,
        group size=1 by 6,
        xlabels at=edge bottom,
        xticklabels at=edge bottom,
        vertical sep=5pt
    },
axis x line* = bottom,
xlabel near ticks,
major x tick style = transparent,
xlabel={},
height=2.5cm,
width=0.88\textwidth,
xmin=0,
xmax=23,
enlargelimits=false,
tick align = outside,
tick style={white},
ylabel style={align=center},
ytick=\empty,
ymin=0,
ymax=30,
ytick={0,5,10,15,20},
yticklabels={,5,10,15,20},
legend cell align=left, 
legend style={ column sep=1ex },
ymajorgrids,
grid style={dashed},
]

\nextgroupplot[ybar=\pgflinewidth,
bar width=2.0pt,
legend entries = {{$\mathsf{Online}$},{$\mathsf{Offline}$},{$\mathsf{LEO}$},{$\mathsf{POET}$},{$\mathsf{\SYSTEM{}-NP}$},{$\mathsf{\SYSTEM{}}$}},
legend style={draw=none,legend columns=6,at={(.5,1.7)},anchor=north},
ylabel shift={0mm},
ymin=0,
ymax=20,
ytick={0.0,5.0,10.0,15.0,20.0},
yticklabels={,5.0,10.0,15.0},
]

\addplot[draw=black,fill=on]        table[x index=0,y index=3, col sep=space] {img/image_text/dyn-mape-0.4-v2.txt};
\addplot[color=off,fill=off]      table[x index=0,y index=4, col sep=space] {img/image_text/dyn-mape-0.4-v2.txt};
\addplot[color=leo,fill=leo]      table[x index=0,y index=5, col sep=space] {img/image_text/dyn-mape-0.4-v2.txt};
\addplot[color=poet,fill=poet]    table[x index=0,y index=6, col sep=space] {img/image_text/dyn-mape-0.4-v2.txt};
\addplot[color=calnp,fill=calnp]  table[x index=0,y index=7, col sep=space] {img/image_text/dyn-mape-0.4-v2.txt};
\addplot[color=cal,fill=cal]      table[x index=0,y index=8, col sep=space] {img/image_text/dyn-mape-0.4-v2.txt};
                                  

\nextgroupplot[ybar=\pgflinewidth,
ylabel shift={0mm},
bar width=2.0pt,
ymin=0,
ymax=20,
ytick={0.0,5.0,10.0,15.0,20.0},
yticklabels={,5.0,10.0,15.0},
]

\addplot[color=on,fill=on]       table[x index=0,y index=3, col sep=space] {img/image_text/dyn-mape-0.5-v2.txt};
\addplot[color=off,fill=off]     table[x index=0,y index=4, col sep=space] {img/image_text/dyn-mape-0.5-v2.txt};
\addplot[color=leo,fill=leo]     table[x index=0,y index=5, col sep=space] {img/image_text/dyn-mape-0.5-v2.txt};
\addplot[color=poet,fill=poet]   table[x index=0,y index=6, col sep=space] {img/image_text/dyn-mape-0.5-v2.txt};
\addplot[color=calnp,fill=calnp] table[x index=0,y index=7, col sep=space] {img/image_text/dyn-mape-0.5-v2.txt};
\addplot[color=cal,fill=cal]     table[x index=0,y index=8, col sep=space] {img/image_text/dyn-mape-0.5-v2.txt};
                                
\nextgroupplot[ybar=\pgflinewidth,
ylabel={\footnotesize MAPE  {\scriptsize (lower is better)}},
ylabel shift={0mm},
bar width=2.0pt,
ymin=0,
ymax=30,
ytick={0.0,10.0,20.0,30.0},
yticklabels={,10.0,20.0,30.0},
]

\addplot[color=on,fill=on]         table[x index=0,y index=3, col sep=space] {img/image_text/dyn-mape-0.6-v2.txt};
\addplot[color=off,fill=off]       table[x index=0,y index=4, col sep=space] {img/image_text/dyn-mape-0.6-v2.txt};
\addplot[color=leo,fill=leo]       table[x index=0,y index=5, col sep=space] {img/image_text/dyn-mape-0.6-v2.txt};
\addplot[color=poet,fill=poet]     table[x index=0,y index=6, col sep=space] {img/image_text/dyn-mape-0.6-v2.txt};
\addplot[color=calnp,fill=calnp]   table[x index=0,y index=7, col sep=space] {img/image_text/dyn-mape-0.6-v2.txt};
\addplot[color=cal,fill=cal]       table[x index=0,y index=8, col sep=space] {img/image_text/dyn-mape-0.6-v2.txt};

\nextgroupplot[ybar=\pgflinewidth,
ylabel shift={0mm},
bar width=2.0pt,
ymin=0,
ymax=30,
ytick={0.0,10.0,20.0,30.0},
yticklabels={,10.0,20.0,30.0},
]

\addplot[color=on,fill=on]         table[x index=0,y index=3, col sep=space] {img/image_text/dyn-mape-0.7-v2.txt};
\addplot[color=off,fill=off]       table[x index=0,y index=4, col sep=space] {img/image_text/dyn-mape-0.7-v2.txt};
\addplot[color=leo,fill=leo]       table[x index=0,y index=5, col sep=space] {img/image_text/dyn-mape-0.7-v2.txt};
\addplot[color=poet,fill=poet]     table[x index=0,y index=6, col sep=space] {img/image_text/dyn-mape-0.7-v2.txt};
\addplot[color=calnp,fill=calnp]   table[x index=0,y index=7, col sep=space] {img/image_text/dyn-mape-0.7-v2.txt};
\addplot[color=cal,fill=cal]       table[x index=0,y index=8, col sep=space] {img/image_text/dyn-mape-0.7-v2.txt};

\nextgroupplot[ybar=\pgflinewidth,
ylabel shift={0mm},
bar width=2.0pt,
ymin=0,
ymax=30,
ytick={0.0,10.0,20.0,30.0},
yticklabels={,10.0,20.0,30.0},
]

\addplot[color=on,fill=on]          table[x index=0,y index=3, col sep=space] {img/image_text/dyn-mape-0.8-v2.txt};
\addplot[color=off,fill=off]        table[x index=0,y index=4, col sep=space] {img/image_text/dyn-mape-0.8-v2.txt};
\addplot[color=leo,fill=leo]        table[x index=0,y index=5, col sep=space] {img/image_text/dyn-mape-0.8-v2.txt};
\addplot[color=poet,fill=poet]      table[x index=0,y index=6, col sep=space] {img/image_text/dyn-mape-0.8-v2.txt};
\addplot[color=calnp,fill=calnp]    table[x index=0,y index=7, col sep=space] {img/image_text/dyn-mape-0.8-v2.txt};
\addplot[color=cal,fill=cal]        table[x index=0,y index=8, col sep=space] {img/image_text/dyn-mape-0.8-v2.txt};

\nextgroupplot[ybar=\pgflinewidth,
bar width=2.0pt,
ylabel shift={0mm},
xticklabel shift={0pt},
ymin=0,
ymax=30,
ytick={0.0,10.0,20.0,30.0},
yticklabels={,10.0,20.0,30.0},
x tick label style={rotate=35, anchor=east},
xtick={1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22},
xticklabels={
{\scriptsize $\mathsf{backprop}$},
{\scriptsize $\mathsf{bfs}$},
{\scriptsize $\mathsf{blackscholes}$},
{\scriptsize $\mathsf{bodytrack}$},
{\scriptsize $\mathsf{facesim}$},
{\scriptsize $\mathsf{ferret}$},
{\scriptsize $\mathsf{heartwall}$},
{\scriptsize $\mathsf{hotspot}$},
{\scriptsize $\mathsf{jacobi}$},
{\scriptsize $\mathsf{kmeans}$},
{\scriptsize $\mathsf{kmeansnf}$},
{\scriptsize $\mathsf{lavamd}$},
{\scriptsize $\mathsf{leukocyte}$},
{\scriptsize $\mathsf{lud}$},
{\scriptsize $\mathsf{nw}$},
{\scriptsize $\mathsf{sha}$},
{\scriptsize $\mathsf{srad}$},
{\scriptsize $\mathsf{stream}$},
{\scriptsize $\mathsf{stream_threads}$},
{\scriptsize $\mathsf{x264-ducks}$},
{\scriptsize $\mathsf{x264-native}$},
{\scriptsize $\mathsf{\mathbf{Average}}$}},
]

\addplot[color=on,fill=on]          table[x index=0,y index=3, col sep=space] {img/image_text/dyn-mape-0.9-v2.txt};
\addplot[color=off,fill=off]        table[x index=0,y index=4, col sep=space] {img/image_text/dyn-mape-0.9-v2.txt};
\addplot[color=leo,fill=leo]        table[x index=0,y index=5, col sep=space] {img/image_text/dyn-mape-0.9-v2.txt};
\addplot[color=poet,fill=poet]      table[x index=0,y index=6, col sep=space] {img/image_text/dyn-mape-0.9-v2.txt};
\addplot[color=calnp,fill=calnp]    table[x index=0,y index=7, col sep=space] {img/image_text/dyn-mape-0.9-v2.txt};
\addplot[color=cal,fill=cal]        table[x index=0,y index=8, col sep=space] {img/image_text/dyn-mape-0.9-v2.txt};

\end{groupplot}
\end{tikzpicture}